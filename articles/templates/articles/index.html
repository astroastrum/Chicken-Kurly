{% extends 'base.html' %}

{% block content %}

  <h1 class='text-center'>Review</h1><hr>
  <div class='text-end'>
    <a class='btn btn-primary btn-sm' href="{% url 'articles:create' %}"> 글쓰기</a>
  </div>

  {% for article in articles %}
      <div class="card mx-auto mb-3" style="max-width: 610px;">
        <div class="row g-0">
          <!-- 카드 이미지 -->
          <div class="col-md-4">
            <img src="https://dummyimage.com/200x200/000/fff" class="img-fluid rounded-start" alt="...">
          </div>
          <div class="col-md-8">
            <div class="card-body">
              <div class='text-end'>
                <a href="{% url 'articles:update' article.pk %}" style="text-decoration: none;"><span class='text-primary opacity-75'>수정</span></a>
                <a href="{% url 'articles:delete' article.pk %}" style="text-decoration: none;"><span class='text-danger opacity-75'>삭제</span></a>
              </div>
              <h4>
                <!-- 카드 타이틀 -->
                <a href="#" data-bs-toggle="modal" data-bs-target="#exampleModal{{ article.pk }}" style="
                min-height: 1.5rem;
                text-overflow: ellipsis;
                overflow: hidden;
                word-break: break-word;
                display: -webkit-box;
                -webkit-line-clamp: 1;
                -webkit-box-orient: vertical">{{ article.title }}</a>
                <!-- Modal -->
                <div class="modal fade" id="exampleModal{{ article.pk }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-3" id="exampleModalLabel">{{ article.title }}</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body fs-6">
                        {{ article.content }}
                      </div>
                      <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                      </div>
                    </div>
                  </div>
                </div>
              </h4>
              <!-- 글작성자, 작성시간 -->
              <p class="fs-6">
                글작성자  |  {{ article.created_at }}  |
              </p>
              <hr>
              <p style="
              min-height: 3rem;
              text-overflow: ellipsis;
              overflow: hidden;
              word-break: break-word;
              display: -webkit-box;
              -webkit-line-clamp: 2;
              -webkit-box-orient: vertical">
                {{ article.content }}
              </p>
            </div>
          </div>
        </div>
      </div>
  {% endfor %}


{% endblock content %}